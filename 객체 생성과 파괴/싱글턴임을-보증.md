# pirvate생성자나 열거타입으로 싱글턴임을 보증

- [pirvate생성자나 열거타입으로 싱글턴임을 보증](#pirvate생성자나-열거타입으로-싱글턴임을-보증)
  - [설명](#설명)

<br>

## 설명

```
싱글턴 - 오직 하나의 인스턴스를 생성하는 클래스
```

싱글턴은

- 무상태 객체나 설계상에 유일해야하는 시스템을 컴포넌트를 만들 때 사용함
- 싱글턴을 사용하는 사용자는 테스트하기 어렵다는 단점을 가짐.
  와 같은 특징을 가지고 있다.

<br/>
<br/>

싱글턴을 만드는 방식은 `생성자를 private 생성자로 감춰두고`

- public static final 필드 멤버를 만들거나
- 정적 팩터리 방식으로 싱글턴을 반환하거나

두가지 방식이 존재한다.

<br>

```
#public static final 장점#
1. 간결함
2. 해당 클래스가 싱글턴 클래스임이 API에서 명백히 드러남
```

<br>

```
#정적 팩터리 방식의 장점#
1. API를 변경하지 않아도 싱글턴이 아니게 변경 가능한 유연함
2. 정적 팩터리를 재네릭 싱글턴 팩터리로 만들 수 있음(이펙티브 자바의 Item30)
```

그러나 이 두 가지 방식 말고도 열거 타입 방식이 존재함

`원소가 하나뿐인 열거 타입으로 싱글턴을 만드는 것`

```java
public enum Elvis{
    INSTANCE;

    public void levaveTheBuilding() {....}
}
```

열거 타입 방식의 장점

- pulic 방식보다 더 간결함
- 리플렉션 공격을(제 2의 인스턴스를 생기는 일) 막아줌
- 다만, 싱글턴이 Enum 외의 클래스를 상속받아서 사용해야 한다면 이 방식은 사용할 수 없음
